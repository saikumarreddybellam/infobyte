<form th:action="@{'/ui/admin/quizzes/' + ${quizId} + '/questions'}" method="post">
    <input type="hidden" name="quizId" th:value="${quizId}">

    <div class="mb-3">
        <label for="questionText" class="form-label">Question Text</label>
        <textarea class="form-control" id="questionText" name="questionText" rows="3" required></textarea>
    </div>

    <div class="mb-3">
        <label class="form-label">Answer Options</label>
        <div id="options-container">
            <!-- Initial two options -->
            <div class="card mb-3">
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label">Option 1</label>
                        <input type="text" class="form-control" name="options[0].text" required>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="correctOption" value="0" required>
                        <label class="form-check-label">Correct Answer</label>
                    </div>
                </div>
            </div>
            <div class="card mb-3">
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label">Option 2</label>
                        <input type="text" class="form-control" name="options[1].text" required>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="correctOption" value="1">
                        <label class="form-check-label">Correct Answer</label>
                    </div>
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-sm btn-outline-primary" onclick="addOption()">
            <i class="bi bi-plus"></i> Add Option
        </button>
    </div>

    <button type="submit" class="btn btn-primary">Save Question</button>
</form>

<script>
    let optionCount = 2;

    function addOption() {
        const container = document.getElementById('options-container');
        const newOption = document.createElement('div');
        newOption.className = 'card mb-3';
        newOption.innerHTML = `
            <div class="card-body">
                <div class="mb-3">
                    <label class="form-label">Option ${optionCount + 1}</label>
                    <input type="text" class="form-control" name="options[${optionCount}].text" required>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="correctOption" value="${optionCount}">
                    <label class="form-check-label">Correct Answer</label>
                </div>
            </div>
        `;
        container.appendChild(newOption);
        optionCount++;
    }
</script>